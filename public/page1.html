<style>
    .k-grid td:first-child, .k-grid .k-header tr th:first-child {
        text-align: left;
    }

    .k-grid .k-checkbox-label.k-no-text {
        padding: 0;
    }
</style>
<script src="~/Scripts/moment.js"></script>
<div class="row">
    <div class="row">
        <div class="col-lg-6">
            <div class="headerPage">
                <h2></h2>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12 scbam-content">
            @*<div class="col-lg-6">
                    <div style="margin-top: 0%; margin-left:-14px">
                        <span>Search by : </span>
                        <input type="radio" name="typeSearch" id="Batch_No" class="k-radio" value="byBatch" checked="checked">
                        <label class="k-radio-label" for="Batch_No">Batch No</label>
                        <input type="radio" name="typeSearch" id="other" class="k-radio" value="oth">
                        <label class="k-radio-label" for="other">Other</label>
                    </div>
                </div>*@
            <span id="popupNotification"></span>
            <form id="paymentDetailForm" class="form-horizontal form-widgets">


                <div id="detailForm">

                    @*<div class="form-group">
                            <div class="col-md-6 col-lg-6">
                                <div><label for="Custodian_Code">Custodian Code</label></div>
                                <input id='Custodian_Code' required style="width: 100%" />
                            </div>
                            <div class="col-md-6 col-lg-6">
                                <div><label for="Fund_Code_Grp">Fund Code</label></div>
                                <select id="Fund_Code_Grp" multiple="multiple"></select>
                            </div>
                        </div>*@

                    <div class="form-group ">
                        <div class="col-md-6 col-lg-6">
                            <div><label for="Expense_Code_Grp">Expense Code </label></div>
                            <input id="Expense_Code_Grp" style="width: 50%;" />

                        </div>
                        @*<div class="col-md-6 col-lg-6">
                                <div><label for="Payee_Code_Grp">Payee Code </label></div>
                                <select id="Payee_Code_Grp" multiple="multiple"></select>
                            </div>*@
                    </div>

                    <div class="form-group ">
                        <div class="col-md-6 col-lg-6">
                            <h3>Trade Date</h3>
                            <div class="form-group ">
                                <div class="col-md-6 col-lg-4">
                                    <div><label for="TradeStrDate">Start Date </label></div>
                                    <input id='TradeStrDate' maxlength="100" style="width:100%" />
                                </div>
                                <div class="col-md-6 col-lg-4">
                                    <div><label for="TradeEndDate">End Date </label></div>
                                    <input id='TradeEndDate' maxlength="100" style="width:100%" />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-6">
                            <h3>Settle Date</h3>
                            <div class="form-group ">
                                <div class="col-md-6 col-lg-4">
                                    <div><label for="SettleStrDate">Start Date </label></div>
                                    <input id='SettleStrDate' maxlength="15" style="width:100%" />
                                </div>
                                <div class="col-md-6 col-lg-4">
                                    <div><label for="SettleEndDate">End Date </label></div>
                                    <input id="SettleEndDate" maxlength="15" style="width:100%" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </form>
            <div>
                <div id="loading" style="display:none; text-align:center;">
                    <div class="loader loader--style3" title="Loading">
                        <svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                             width="40px" height="40px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">
                        <path fill="#000" d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z">
                        <animateTransform attributeType="xml"
                                          attributeName="transform"
                                          type="rotate"
                                          from="0 25 25"
                                          to="360 25 25"
                                          dur="0.6s"
                                          repeatCount="indefinite" />































































































































                        </path>
                        </svg>
                    </div>
                </div>
            </div>
            <button class="btn col-lg-1 btn-primary" id='search' type="submit">Search</button>

        </div>

        @*<div class="row">
                <div id="gridPaymentTransaction"></div>
            </div>*@
    </div>

    <div class="row">
        <div class="form-group displayGrid">

            <div id="gridPaymentTransaction"></div>
            <div class="col-lg-12" style="margin-top:1%">

                <button class="btn maker col-lg-1 " id='import'>IMPORT</button>
                <button class="btn maker col-lg-1 " id='import-merge' style="margin-left:1%">IMPORT MERGE</button>
                @*<button class="btn col-lg-1 " id='back' onclick="back()" style="margin-left:1% ; display:none; ">BACK</button>*@
            </div>

            @*<div class="col-lg-12" style="margin-top:1%">
                    <button class="btn checker col-lg-1 k-primary" id='approve'>APPROVE</button>
                    <button class="btn checker col-lg-1 " id='reject' style="margin-left:1%">REJECT</button>
                </div>*@
        </div>
    </div>


</div>

<script type="text/javascript">
    var item_select = []
    var dataSourceResultSearch;
    window.record = 0
    var oldPageSize = 0;
    var dataItemAll = 'N'
    var lastpage = 1;

    kendoWidget()
    tradeDatePickerView()
    settleDatePickerView()
    //////////$.ajax(checkAutorizePage()).done(function () {

    //////////    if (checkCookie() !== true) {
    //////////        window.location.href = '/'
    //////////    }
    //////////    validateDatePicker("#paymentDetailForm");
    //////////    if (getCookie('previousUrl') != 'PMS' && getCookie('previousUrl') != 'PTD') {
    //////////        //alert(getCookie('previousUrl'))
    //////////        localStorage.removeItem('dataSearch')
    //////////        localStorage.removeItem('kendo-grid-paymenttransaction-options')
    //////////        $.cookie("previousUrl", 'PMS', { path: "/" });
    //////////    } else {
    //////////        $.cookie("previousUrl", 'PMS', { path: "/" });
    //////////        //if (localStorage.getItem("dataSearch")) {
    //////////        //    data = JSON.parse(localStorage.getItem("dataSearch"))
    //////////        //    $('#detailForm').hide();
    //////////        //    $('#batchForm').hide();
    //////////        //    $('#loading').show();
    //////////        //    actionSearch(data)
    //////////        //}

    //////////    }
    //////////    console.log("authorizePMgt : " + authorizePMgt);
    //////////    console.log("authorizeOper : " + authorizePOper);

    //////////    $(".container").css("width", "96%")
    //////////    kendoWidget()
    //////////    tradeDatePickerView()
    //////////    settleDatePickerView()


    //////////    $(".displayGrid").hide()
    //////////    //settingView($("input[name=typeSearch]").val())

    //////////})


    function kendoWidget() {



        $("#Expense_Code_Grp").kendoDropDownList({
            placeholder: "Select ...",
            filter: "contains",
            dataSource: {
                transport: {
                    read: {
                        url: url + "/mastervalue?mastervaluekey=EXPIMP",
                        dataType: "json",
                        type: "GET"
                    }
                },
                schema: {
                    data: function (response) {
                        // console.log(response.data.MasterValue)
                        for (var i = 0; i < response.data.MasterValue.length; i++) {

                            response.data.MasterValue[i].Exp_Name_Txt_name = response.data.MasterValue[i].ValueKey + "  " + response.data.MasterValue[i].ValueNameTh
                        }
                        // console.log(response.data.MasterValue)
                        return response.data.MasterValue;
                    }
                },
                //serverFiltering: true
            },
            dataValueField: "ValueKey",
            dataTextField: "Exp_Name_Txt_name",
            autoBind: false,
            autoWidth: true,
            optionLabel: "Select a Expense..."

        })

    }

    function tradeDatePickerView() {

        function startChange() {

            var startDate = tradeStart.value(),
                endDate = tradeEnd.value();

            if (startDate) {
                startDate = new Date(startDate);
                startDate.setDate(startDate.getDate());
                tradeEnd.min(startDate);
            } else if (endDate) {
                tradeStart.max(new Date(endDate));
            } else {
                endDate = new Date();
                tradeStart.max(endDate);
                tradeEnd.min(endDate);
            }



        }

        function endChange() {


            var endDate = tradeEnd.value(),
                startDate = tradeStart.value();


            if (endDate) {
                endDate = new Date(endDate);
                endDate.setDate(endDate.getDate());
                tradeStart.max(endDate);
            } else if (startDate) {
                end.min(new Date(startDate));
            } else {
                //    disablegrid(false)
                endDate = new Date();
                tradeStart.max(endDate);
                tradeEnd.min(endDate);
            }



        }

        //Maake input DatePicker Field
        var tradeStart = $("#TradeStrDate").kendoDatePicker({
            format: "dd/MM/yyyy",
            parseFormats: ["dd/MM/yyyy"],
            change: startChange
        }).data("kendoDatePicker");

        var tradeEnd = $("#TradeEndDate").kendoDatePicker({
            format: "dd/MM/yyyy",
            change: endChange
        }).data("kendoDatePicker");

        // setting max/min datepicker
        tradeStart.max(tradeEnd.value());
        tradeEnd.min(tradeStart.value());
    }

    function settleDatePickerView() {

        function startChange() {

            var startDate = settleStart.value(),
                endDate = settleEnd.value();

            if (startDate) {
                startDate = new Date(startDate);
                startDate.setDate(startDate.getDate());
                settleEnd.min(startDate);
            } else if (endDate) {
                settleStart.max(new Date(endDate));
            } else {
                endDate = new Date();
                settleStart.max(endDate);
                settleEnd.min(endDate);
            }



        }

        function endChange() {


            var endDate = settleEnd.value(),
                startDate = settleStart.value();


            if (endDate) {
                endDate = new Date(endDate);
                endDate.setDate(endDate.getDate());
                settleStart.max(endDate);
            } else if (startDate) {
                end.min(new Date(startDate));
            } else {
                //    disablegrid(false)
                endDate = new Date();
                tradeStart.max(endDate);
                settleEnd.min(endDate);
            }



        }

        //Maake input DatePicker Field
        var settleStart = $("#SettleStrDate").kendoDatePicker({
            format: "dd/MM/yyyy",
            parseFormats: ["dd/MM/yyyy"],
            change: startChange
        }).data("kendoDatePicker");

        var settleEnd = $("#SettleEndDate").kendoDatePicker({
            format: "dd/MM/yyyy",
            change: endChange
        }).data("kendoDatePicker");

        // setting max/min datepicker
        settleStart.max(settleEnd.value());
        settleEnd.min(settleStart.value());
    }



    $("#search").click(function () {

        var linkService = url + '/ImpETSData'
        $.post(linkService, {

            UserName: localStorage.getItem("userID"),
            AppTokenId: getCookie("tokenAppId"),
            ExpCode: $("#Expense_Code_Grp").data("kendoDropDownList").value(), //EXP-00014
            ReqData: "",
            SettleStr: moment($("#SettleStrDate").data("kendoDatePicker").value()).format("YYYY-MM-DDT00:00:00"), //2018-01 - 01T00: 00:00
            SettleEnd: moment($("#SettleEndDate").data("kendoDatePicker").value()).format("YYYY-MM-DDT00:00:00"), //2018-01 - 01T00: 00:00,
            TradeStr: moment($("#TradeStrDate").data("kendoDatePicker").value()).format("YYYY-MM-DDT00:00:00"), //2018-01 - 01T00: 00:00
            TradeEnd: moment($("#TradeEndDate").data("kendoDatePicker").value()).format("YYYY-MM-DDT00:00:00"), //2018-01 - 01T00: 00:00
            TypeOfData: "SCH"

        }, function getResult(response) {
            console.log(response)
            if (response.status.code == '200') {
                dataSourceResultSearch = response.data;

                resultDetailGrid(dataSourceResultSearch)
            } else {
                // error status != 200
            }

        })
    })


    if (oldPageSize == 0) { oldPageSize = 20; }
    function resultDetailGrid(dataSource, optionsJSON) {
        console.log("dataSource : ", dataSource)
        dataSource = [{
            ActImp: true
        },
        {
            ActImp: false
        }, {
            ActImp: false
        }, {
            ActImp: true
        }, {
            ActImp: false
        },
        {
            ActImp: false
        }, {
            ActImp: false
        }, {
            ActImp: true
        }, {
            ActImp: false
        },
        {
            ActImp: false
        }, {
            ActImp: false
        }, {
            ActImp: true
        }, {
            ActImp: false
        },
        {
            ActImp: false
        }, {
            ActImp: false
        }, {
            ActImp: true
        }, {
            ActImp: false
        },
        {
            ActImp: false
        }, {
            ActImp: false
        }, {
            ActImp: true
        }, {
            ActImp: false
        },
        {
            ActImp: false
        }, {
            ActImp: false
        }, {
            ActImp: true
        }, {
            ActImp: false
        },
        {
            ActImp: false
        }, {
            ActImp: false
        }, {
            ActImp: true
        }, {
            ActImp: false
        },
        {
            ActImp: false
        }, {
            ActImp: false
        }, {
            ActImp: true
        }, {
            ActImp: false
        }]
        var dataSourceResult = new kendo.data.DataSource({
            data: dataSource,

            schema: {
                model: {
                    id: "TF_Id",
                    fields: {

                        ActImp: { type: "boolean" },
                        Exp_Code_ETS: { type: "string" },
                        Exp_Code_Source: { type: "string" },
                        Exp_Desc_En_ETS: { type: "string" },
                        Exp_Desc_Th_ETS: { type: "string" },
                        FundCode: { type: "string" },
                        GrossAmt: { type: "number" },
                        LastImpDT: { type: "date" },
                        PT_Source: { type: "string" },
                        PYM_Fund_AccNo: { type: "string" },
                        PYM_Fund_AccType: { type: "string" },
                        PYM_Fund_Bank: { type: "string" },
                        PYM_Fund_Branch: { type: "string" },
                        PYM_Fund_Custodian: { type: "string" },
                        PYM_Method: { type: "string" },
                        Payee_AccBank: { type: "string" },
                        Payee_AccBankBranch: { type: "string" },
                        Payee_AccNo: { type: "string" },
                        Payee_AccType: { type: "string" },
                        Payee_ETS: { type: "string" },
                        Payee_ETS_Name_En: { type: "string" },
                        Payee_ETS_Name_Th: { type: "string" },
                        Payee_Source: { type: "string" },
                        SettleDate: { type: "date" },
                        SubFundCode: { type: "string" },
                        TF_Id: { type: "number" },
                        TF_ImpStatus: { type: "string" },
                        TF_ImpType: { type: "string" },
                        TotalAmt: { type: "number" },
                        TradeDate: { type: "date" },
                        VatAmt: { type: "number" },
                        VatRate: { type: "number" },
                        WTAmt: { type: "number" },
                        WTRate: { type: "number" },
                    }
                }
            },
            aggregate: [
                { field: "GrossAmt", aggregate: "sum" },
                { field: "VatAmt", aggregate: "sum" },
                { field: "TotalAmt", aggregate: "sum" },
                { field: "WTAmt", aggregate: "sum" },
                { field: "SettleAmt", aggregate: "sum" }

            ],
            //pageSize: 30,
            pageSize: oldPageSize,
            page: lastpage,
            //page: 1,
        });

        $("#gridPaymentTransaction").kendoGrid({
            dataSource: dataSourceResult,
            columns: [
                {
                    field: "ActImp",
                    title: "All",
                    columns: [{
                        selectable: true,
                        width: 40
                    }]
                },

                {
                    title: "No",
                    template: "#= ++record #",
                    width: 80,
                    sortable: false,
                },


                {
                    title: "Payee Code",
                    columns: [{
                        field: "Payee_Source",
                        title: "Source",
                        width: 200
                    }, {
                        field: "Payee_ETS",
                        title: "ETS",
                        width: 200
                    }],
                    //    width: 300
                },
                {
                    title: "Method",
                    field: "PYM_Method",
                    width: 130
                },
                {
                    title: "Payee Bank Ac No",
                    columns: [{
                        field: "Payee_AccBank",
                        title: "Bank",
                        width: 100
                    }, {
                        field: "Payee_AccBankBranch",
                        title: "Branch",
                        width: 100
                    },
                    {
                        field: "Payee_AccType",
                        title: "Type",
                        width: 100
                    },
                    {
                        title: "No",
                        field: "Payee_AccNo",
                        width: 120
                    }]
                },
                { field: "Exp_Code_ETS", title: "Expense Code", width: 120 },
                {
                    title: "Expense Code",
                    columns: [{
                        field: "Exp_Code_Source",
                        title: "Source",
                        width: 200
                    }, {
                        field: "Exp_Code_ETS",
                        title: "ETS",
                        width: 200
                    }],
                    // width: 300
                },


                {
                    field: "Exp_Desc_En_ETS",
                    title: "Expense Name En",
                    width: 300
                },
                {
                    field: "TradeDate", title: "TradeDate",
                    width: 150,
                    template: '#= (TradeDate != null ) ? kendo.toString(kendo.parseDate(TradeDate), "dd/MM/yyyy") : "" #',
                },
                {
                    field: "SettleDate", title: "SettleDate",
                    width: 150,
                    template: '#= (SettleDate != null ) ? kendo.toString(kendo.parseDate(SettleDate), "dd/MM/yyyy") : "" #',
                },
                {
                    field: "FundCode",
                    template: (function (dataItem) {
                        var Fund_Code = "";
                        var Sub_Fund_Code = "";
                        var full_Fund_Code = "";
                        Fund_Code = dataItem.FundCode;
                        if (dataItem.SubFundCode != null) {
                            full_Fund_Code = Fund_Code + " : " + dataItem.SubFundCode
                        } else {
                            full_Fund_Code = Fund_Code
                        }
                        return "<div style='text-align:left'>" + full_Fund_Code + "</div>";
                    }),
                    width: 150
                },
                {
                    title: "Custodian Bank Ac No",
                    columns: [{
                        field: "PYM_Fund_Bank",
                        title: "Bank",
                        width: 100
                    },
                    {
                        field: "PYM_Fund_AccType",
                        title: "Type",
                        width: 100
                    }, {
                        title: "No",
                        field: "PYM_Fund_AccNo",
                        width: 120,
                        footerTemplate: "<span style='float:right'> Total: </span>"
                    }]
                },
                {
                    field: "GrossAmt", title: "GrossAmt",
                    template: "<span style='float:right'>#=kendo.toString(GrossAmt, 'n')  #</span>",
                    width: 120,
                    aggregates: ["sum"],
                    footerTemplate: " #=kendo.toString(sum, 'n')  #"
                },
                {
                    field: "VatAmt",
                    title: "VatAmt",
                    template: "<span style='float:right'>#=kendo.toString(VatAmt, 'n')  #</span>",
                    width: 120,
                    aggregates: ["sum"],
                    footerTemplate: " #=kendo.toString(sum, 'n')  #"
                },
                {
                    field: "TotalAmt",
                    title: "TotalAmt",
                    template: "<span style='float:right'>#=kendo.toString(TotalAmt, 'n')  #</span>",
                    width: 120,
                    aggregates: ["sum"],
                    footerTemplate: " #=kendo.toString(sum, 'n')  #"
                },
                {
                    field: "WTAmt",
                    title: "WTAmt",
                    template: "<span style='float:right'>#=kendo.toString(WTAmt, 'n')  #</span>",
                    width: 120,
                    aggregates: ["sum"],
                    footerTemplate: " #=kendo.toString(sum, 'n')  #"
                },
                {
                    field: "SettleAmt", title: "SettleAmt",
                    template: (function (dataItem) {
                        var settle_amt = "";
                        if (dataItem.SettleAmt != null) {
                            settle_amt = kendo.toString(SettleAmt, 'n')
                        } else {
                            settle_amt = ""
                        }
                        return "<div style='text-align:right'>" + settle_amt + "</div>";
                    }),
                    width: 120,
                    aggregates: ["sum"],
                    footerTemplate: " #if(sum==null){ # 0.00 #}else{ kendo.toString(sum, 'n') } #"
                },
                {
                    field: "TF_ImpStatus", title: "Status", width: 120,
                }

            ],
            dataBinding: function () {
                //set record continue
                record = (this.dataSource.page() - 1) * this.dataSource.pageSize();
            },
            dataBound: function (e) {
                var grid = $("#gridPaymentTransaction").data("kendoGrid");
                var rows = e.sender.tbody[0].rows;
                console.log('dataItemAll ', dataItemAll)
                $(rows).each(function (e) {

                    var row = this;
                    var dataItem = grid.dataItem(row);
                    if (dataItem.ActImp == true) {
                        console.log($(this).find('td').children())
                        $(this).find('td').children().remove()
                        //console.log($(this).find('td').children())
                    }
                    if (dataItemAll == 'Y') {
                        console.log(' item select : ', $("#gridPaymentTransaction").data("kendoGrid").select().length)
                    } else {
                        console.log('select row')


                    }

                });

                ////////if (dataItemAll == 'Y') {
                ////////    ////////    console.log('in bound')
                ////////    ////////    var grid = $("#gridPaymentTransaction").data("kendoGrid");

                ////////    ////////    oldPageSize = grid.dataSource.pageSize();
                ////////    ////////    grid.dataSource.pageSize(grid.dataSource.data().length);
                ////////    ////////    grid.dataSource.pageSize(oldPageSize);


                ////////    ////////    if (grid.dataSource.data().length == grid.select().length) {
                ////////    ////////        grid.clearSelection();
                ////////    ////////    } else {

                ////////    ////////    }
                ////////    ////////

                ////////    ////////    console.log('dataItemAll after check all : ', dataItemAll)
                ////////    ////////} else {

                ////////    console.log('dataItemAll after select row  : ', dataItemAll)
                ////////    var checked = this.checked,
                ////////        row = $(this).closest("tr"),
                ////////        grid = $("#gridPaymentTransaction").data("kendoGrid"),
                ////////        dataItem = grid.dataItem(row);
                ////////    dataItemAll = 'N'
                ////////    if (checked) {
                ////////        console.log(dataItem)

                ////////        //////item_select.push({
                ////////        //////    "PT_Id": dataItem.PT_Id,
                ////////        //////    "INSH_BatchNo": dataItem.INSH_BatchNo,
                ////////        //////    "Status": dataItem.TransStatus,
                ////////        //////    "TranSubStatus": dataItem.TranSubStatus
                ////////        //////});

                ////////    } else {
                ////////        //  console.log('checked false')
                ////////        //var result2RemoveCheckbox = item_select.filter(function (v, i) {
                ////////        //    if (v.PT_Id === dataItem.PT_Id) { item_select.splice(i, 1) }
                ////////        //});
                ////////        //var result2RemoveTempBatch = item_select.filter(function (v, i) {
                ////////        //    if (v.PT_Id === dataItem.PT_Id) { item_select.splice(i, 1) }
                ////////        //});
                ////////    }
                ////////}

            },
            //persistSelection: true,
            noRecords: {
                template: "No data available please search again"
            },
            pageable: {
                numeric: true,
                pageSizes: [100, 250, 500],
                previousNext: true,
                input: false,
                refresh: true
            },
            persistSelection: true,
            pageSize: oldPageSize,
        });

        var grid = $("#gridPaymentTransaction").data("kendoGrid");
        grid.thead.on("click", ".k-checkbox", onClick);
        $("#gridPaymentTransaction").data("kendoGrid").table.on("click", ".k-checkbox", selectRow);

        //options = JSON.parse(localStorage.getItem("kendo-grid-paymenttransaction-options"));
        //if (optionsJSON) {
        //    console.log('has options')
        //    var options = JSON.parse(optionsJSON);
        //    grid.setOptions(options);
        //}

    }

    function selectRow() {

        ////////var checked = this.checked,
        ////////    row = $(this).closest("tr"),
        ////////    grid = $("#gridPaymentTransaction").data("kendoGrid"),
        ////////    dataItem = grid.dataItem(row);
        dataItemAll = 'N'
        ////////if (checked) {
        ////////    console.log(dataItem)
        ////////    //////item_select.push({
        ////////    //////    "PT_Id": dataItem.PT_Id,
        ////////    //////    "INSH_BatchNo": dataItem.INSH_BatchNo,
        ////////    //////    "Status": dataItem.TransStatus,
        ////////    //////    "TranSubStatus": dataItem.TranSubStatus
        ////////    //////});

        ////////} else {
        ////////    //  console.log('checked false')
        ////////    var result2RemoveCheckbox = item_select.filter(function (v, i) {
        ////////        if (v.PT_Id === dataItem.PT_Id) { item_select.splice(i, 1) }
        ////////    });
        ////////    var result2RemoveTempBatch = item_select.filter(function (v, i) {
        ////////        if (v.PT_Id === dataItem.PT_Id) { item_select.splice(i, 1) }
        ////////    });
        ////////}

        ////////console.log('selected event select : ', item_select)

    }

    function onClick(e) {
        var grid = $("#gridPaymentTransaction").data("kendoGrid");
        oldPageSize = grid.dataSource.pageSize();
        grid.dataSource.pageSize(grid.dataSource.data().length);
        //console.log('e : ', grid.tbody)
        //console.log('e : ', $(e.target))
        //console.log('e : ', $(e.target).parent().parent().parent().parent().parent().parent())
        ////console.log('e : ', grid.tbody.find('tr:eq(0) td:eq(0)').is('.k-checkbox'))
        ////console.log('e : ', grid.tbody.find('tr:eq(1) td:eq(0)').is('.k-checkbox'))
        ////console.log('e : ', grid.tbody.find('tr:eq(2) td:eq(0)').is('.k-checkbox'))
        ////console.log('e : ', grid.tbody.find('tr:eq(3) td:eq(0)').is('.k-checkbox'))

        if (grid.dataSource.data().length == grid.select().length) {
            grid.clearSelection();
            dataItemAll = "N";
        } else {
            for (var i = 0; i < grid.dataSource.data().length; i++){
                console.log('ein or  : ', grid.tbody.find('tr:eq(' + i + ') td:eq(0)').is('.k-checkbox'))
                if (grid.tbody.find('tr:eq(' + i + ') td:eq(0)').is('.k-checkbox')) {
                    //var uid = grid.dataSource.data()[i].uid
                    //grid.select("tr[data-uid='" + uid + "']");
                    console.log('can select')
                }
                ////if (grid.dataSource.data()[i].ActImp) {
                ////    //console.log(grid.dataSource.data()[i]);
                ////    ////if (grid.tbody.find('tr:eq('+i+') td:eq(0)').is('.k-checkbox')) {
                ////    //////var uid = grid.dataSource.data()[i].uid
                ////    //////grid.select("tr[data-uid='" + uid + "']");
                ////    ////    console.log('can select')
                ////    ////}
                ////}
            }
            //console.log('grid >> ', grid.select().length)
            dataItemAll = "Y";
      //  dataItemAll = "Y";
        };
        grid.dataSource.pageSize(oldPageSize);

    }


    $("#import").click(function (e) {
        //if ($('input[name=typeSearch]:checked').val() == "byBatch") {
        //    printPaymetNoBatch()
        //} else if (item_select.length > 0) {
        //    if ($('input[name=typeSearch]:checked').val() == "oth") {
        //        $('#send-approve').show()
        //    }
        //    printPaymetNoBatch()
        //} else {
        //    createNotification(" Plase Select data ", "error")
        //}
        lastpage = $("#gridPaymentTransaction").data("kendoGrid").dataSource.page();
        console.log(' import click ', lastpage)
    })


   //////// function openReportTabAndSetStatusInsturntion() {
   ////////     var batch_select = [];
   ////////     //console.log('item_select', item_select)
   ////////     if (item_select.length > 0) {
   ////////      //   console.log("item_select dddddd : ", item_select)
   ////////         for (var i = 0; i < item_select.length; i++) {
   ////////             if (item_select[i].INSH_BatchNo != "" && item_select[i].INSH_BatchNo != null) {
   ////////                 batch_select.push(item_select[i].INSH_BatchNo)
   ////////             }
   ////////         }
   ////////         var batch_select_unique = batch_select.filter((v, i, a) => a.indexOf(v) === i)

   ////////         var lastindex = (batch_select_unique.length - 1);
   ////////         $.each(batch_select_unique, function (k, v) {

   ////////             $.ajax({
   ////////                 "async": true,
   ////////                 "crossDomain": true,
   ////////                 "url": url + "/instruction",
   ////////                 "method": "Post",
   ////////                 "data": {
   ////////                     UserName: localStorage.getItem("userID"),
   ////////                     AppTokenId: getCookie('tokenAppId'),
   ////////                     INSH_BatchNo: batch_select_unique[k],
   ////////                     PT_Id: null,
   ////////                     ActionType: "SETCONFIRM",
   ////////                     MethodAction: 'PATCH'
   ////////                 }
   ////////             }).done(function (response) {
   ////////                 console.log('openReportTabAndSetStatusInsturntion >> ', response, url)
   ////////                 if (response.status.code == "200") {
   ////////                     if (k == lastindex) {
   ////////                         console.log("response : ", response, 'xx >> ', batch_select_unique.join(":"))



   ////////                                         $(function () {
   ////////                                             $.post('/Transaction/SendParamBatch',
   ////////                                                 { "UserName": localStorage.getItem("userID"), "AppTokenId": getCookie('tokenAppId'), "INSH_BatchNoGroup": batch_select_unique.join(":"), "url": window.location.protocol + "//" + location.host},
   ////////                                                 function (data) {
   ////////                                                   //  alert("Success " + data.success);
   ////////                                                     window.open('/reportView/Index', '_blank');
   ////////                                                 });
   ////////                                         });

   ////////                     }
   ////////                 } else {
   ////////                     createNotification(" " + response.status.description, "error");
   ////////                 }

   ////////             })
   ////////         })

   ////////     } else {
   ////////         createNotification(" Please Select Data", "error");
   ////////     }
   //////// }




   //////// $("#send-approve").click(function (e) {
   ////////     var grid = $("#gridPaymentTransaction").data("kendoGrid");
   ////////     var gridOptions = grid.getOptions()
   ////////     delete gridOptions.dataSource.data
   ////////     var optionsJSON = JSON.stringify(gridOptions);

   ////////     if ($('input[name=typeSearch]:checked').val() == "byBatch") {
   ////////         item_select.push({
   ////////             "INSH_BatchNo": $("#gridPaymentTransaction").data("kendoGrid").dataSource.data()[0].INSH_BatchNo
   ////////         })
   ////////         sendApprovePaymetNoBatch(optionsJSON)
   ////////     } else if (item_select.length > 0) {
   ////////         if ($('input[name=typeSearch]:checked').val() == "oth") {
   ////////             $('#send-approve').show()
   ////////         }
   ////////         sendApprovePaymetNoBatch(optionsJSON)
   ////////     } else {
   ////////         createNotification(" Plase Select data ", "error")
   ////////     }

   ////////     ////if (item_select.length > 0) {
   ////////     ////    sendApprovePaymetNoBatch(optionsJSON)
   ////////     ////} else {
   ////////     ////    createNotification(' Please select data. ', 'error')
   ////////     ////}

   //////// })

   //////// function sendApprovePaymetNoBatch(optionsJSON) {
   ////////     //id_batch_select = item_select_batch.filter((v, i, a) => a.indexOf(v) === i)
   ////////     //  console.log("item_select = ", item_select)
   ////////     //  console.log("optionsJSON = ", optionsJSON)
   ////////     var batch_select = []
   ////////     var batch_select_unique = []



   ////////     $.each(item_select, function (k, v) {
   ////////         console.log(item_select[k].INSH_BatchNo)
   ////////         if ($('input[name=typeSearch]:checked').val() == "oth") {
   ////////             if (item_select[k].Status != "Ready" && item_select[k].Status != "Pending Approve") {
   ////////                 batch_select.push(item_select[k].INSH_BatchNo)
   ////////             }
   ////////         } else {
   ////////             if (item_select[k].Status != "Ready" && item_select[k].Status != "Pending Approve") {
   ////////                 batch_select.push(item_select[k].INSH_BatchNo)
   ////////             }
   ////////             //batch_select.push(item_select[k].INSH_BatchNo)
   ////////         }
   ////////     })
   ////////     console.log('itemselect send to approve > ', item_select)
   ////////     batch_select_unique = batch_select.filter((v, i, a) => a.indexOf(v) === i)
   ////////     var length_item = batch_select_unique.length



   ////////     $.each(batch_select_unique, function (k, v) {
   ////////         console.log('batch_select_unique[k] = ', batch_select_unique[k])
   ////////         if (batch_select_unique[k] != null) {
   ////////             $.ajax({
   ////////                 "async": true,
   ////////                 "crossDomain": true,
   ////////                 "url": url + "/instruction",
   ////////                 "method": "Post",
   ////////                 "data": {
   ////////                     UserName: localStorage.getItem("userID"),
   ////////                     AppTokenId: getCookie('tokenAppId'),
   ////////                     INSH_BatchNo: batch_select_unique[k],
   ////////                     PT_Id: null,
   ////////                     ActionType: "SETCONFIRM",
   ////////                     "MethodAction": 'PATCH'
   ////////                 }
   ////////             }).done(function (response) {
   ////////                 if (response.status.code == "200") {
   ////////                     console.log(response)

   ////////                     $.ajax({
   ////////                         "async": true,
   ////////                         "crossDomain": true,
   ////////                         "url": url + "/instruction",
   ////////                         "method": "POST",
   ////////                         "data": {
   ////////                             "UserName": localStorage.getItem("userID"),
   ////////                             "AppTokenId": getCookie('tokenAppId'),
   ////////                             "INSH_BatchNo": batch_select_unique[k],
   ////////                             "ActionType": "REQAPPROVE",
   ////////                             "MethodAction": 'POST'
   ////////                         }
   ////////                     }).done(function (response) {
   ////////                         console.log(response)
   ////////                         console.log(batch_select_unique[k])
   ////////                         if (response.status.code == "200") {
   ////////                             if (k == (length_item - 1)) {
   ////////                                 createNotification(" " + response.dataSet.SetMassage, "info")
   ////////                                 data = JSON.parse(localStorage.getItem("dataSearch"))
   ////////                                 actionSearch(data, optionsJSON)
   ////////                             }
   ////////                         } else {
   ////////                             createNotification(' ' + response.status.description, 'error')
   ////////                         }
   ////////                     })


   ////////                 } else {
   ////////                     createNotification(' ' + response.status.description, "error");
   ////////                 }

   ////////             })
   ////////         }
   ////////     });
   //////// }

   //////// $('#approve').click(function (e) {

   ////////     var batch_select = []
   ////////     var batch_select_unique = []
   ////////     var item_select_id = []

   ////////     //ถ้าที่ติ๊กเลือกข้อมูลมา
   ////////     if (item_select.length > 0) {

   ////////         $.each(item_select, function (k, v) {
   ////////             //ข้อมูลที่เลือกมาแต่ละตัว
   ////////             if (item_select[k].Status != "Ready") {
   ////////                 if (item_select[k].Status == "Pending Approve") {
   ////////                     batch_select.push(item_select[k].INSH_BatchNo)
   ////////                 } else {
   ////////                     item_select_id.push(item_select[k].PT_Id)
   ////////                 }
   ////////             }
   ////////             //else {
   ////////             //    createNotification(" Data is Ready.", "error")
   ////////             //}

   ////////         })
   ////////     } else {
   ////////         //ถ้าไม่เลือกอะไรมาเลยใช้ข้อมูลใน Grid ทั้งหมด
   ////////         for (var i = 0; i < $("#gridPaymentTransaction").data("kendoGrid").dataSource.data().length; i++) {
   ////////             if ($("#gridPaymentTransaction").data("kendoGrid").dataSource.data()[i].TransStatus != "Ready") {
   ////////                 if ($("#gridPaymentTransaction").data("kendoGrid").dataSource.data()[i].TransStatus == "Pending Approve") {
   ////////                     batch_select.push($("#gridPaymentTransaction").data("kendoGrid").dataSource.data()[i].INSH_BatchNo)
   ////////                 } else {
   ////////                     createNotification(' Please select data.', 'error')
   ////////                 }
   ////////             } else {
   ////////                 if (i == $("#gridPaymentTransaction").data("kendoGrid").dataSource.data().length) {
   ////////                     createNotification(" Data is Ready.", "error")
   ////////                 }
   ////////             }

   ////////         }
   ////////     }
   ////////     console.log('item_select_id to approve : ', item_select_id)
   ////////     console.log('batch_select to approve : ', batch_select)
   ////////     batch_select_unique = batch_select.filter((v, i, a) => a.indexOf(v) === i)
   ////////     console.log('batch_select_unique to approve : ', batch_select_unique)

   ////////     if (item_select_id.length > 0 || batch_select.length > 0) {
   ////////        // return false;
   ////////         approve(item_select_id, batch_select_unique)
   ////////     }
   ////////     //////////////if (item_select_id.length > 0 || batch_select.length > 0) {
   ////////     //////////////    approve(item_select_id, batch_select_unique)
   ////////     //////////////} else {
   ////////     //////////////    if (item_select.length > 0) {
   ////////     //////////////        createNotification(' Data is already.', 'error')
   ////////     //////////////    } else {
   ////////     //////////////        //console.log('ไม่ได้เลือกอะไรมา')

   ////////     //////////////        for (var i = 0; i < $("#gridPaymentTransaction").data("kendoGrid").dataSource.data().length; i++) {
   ////////     //////////////            if ($("#gridPaymentTransaction").data("kendoGrid").dataSource.data()[i].TransStatus != "Ready") {
   ////////     //////////////                if ($("#gridPaymentTransaction").data("kendoGrid").dataSource.data()[i].TransStatus == "Pending Approve") {
   ////////     //////////////                    batch_select.push($("#gridPaymentTransaction").data("kendoGrid").dataSource.data()[i].INSH_BatchNo)
   ////////     //////////////                } else {
   ////////     //////////////                    createNotification(' Please select data.', 'error')
   ////////     //////////////                }
   ////////     //////////////            }

   ////////     //////////////        }
   ////////     //////////////        batch_select_unique = batch_select.filter((v, i, a) => a.indexOf(v) === i)
   ////////     //////////////        approve(item_select_id, batch_select_unique)

   ////////     //////////////    }
   ////////     //////////////}

   //////// })

   //////// function approve(item_select_id, batch_select_unique) {
   ////////     //console.log(" item_select approve = ", item_select_id)
   ////////     //console.log(" batch_select_unique approve = ", batch_select_unique)

   ////////     var grid = $("#gridPaymentTransaction").data("kendoGrid");
   ////////     var gridOptions = grid.getOptions()
   ////////     delete gridOptions.dataSource.data
   ////////     var optionsJSON = JSON.stringify(gridOptions);

   ////////     if (item_select_id.length > 0) {
   ////////         // approve แบบ pending delete
   ////////         $.each(item_select_id, function (k, v) {
   ////////             $.ajax({
   ////////                 "async": true,
   ////////                 "crossDomain": true,
   ////////                 "url": url + "/instruction",
   ////////                 "method": "Post",
   ////////                 "data": {
   ////////                     UserName: localStorage.getItem("userID"),
   ////////                     AppTokenId: getCookie('tokenAppId'),
   ////////                     INSH_BatchNo: null,
   ////////                     PT_Id: item_select_id[k],
   ////////                     ActionType: "SETCANCEL",
   ////////                     "MethodAction": 'PATCH'
   ////////                 }
   ////////             }).done(function (response) {
   ////////                 console.log(response)
   ////////                 if (response.status.code == "200") {
   ////////                     // console.log(k, item_select_id - 1)
   ////////                     if (k == (item_select_id.length - 1)) {
   ////////                         createNotification(" " + response.dataSet.SetMassage, "info")
   ////////                         data = JSON.parse(localStorage.getItem("dataSearch"))
   ////////                         actionSearch(data, optionsJSON)
   ////////                     }
   ////////                 } else {
   ////////                     createNotification(' ' + response.dataSet.SetMassage, 'error')
   ////////                 }
   ////////             });
   ////////         })


   ////////     } else {
   ////////         // กรณี approve แบบ pending approve
   ////////         $.ajax({
   ////////             "async": true,
   ////////             "crossDomain": true,
   ////////             "url": url + "/instruction",
   ////////             "method": "Post",
   ////////             "data": {
   ////////                 UserName: localStorage.getItem("userID"),
   ////////                 AppTokenId: getCookie('tokenAppId'),
   ////////                 INSH_BatchNo: batch_select_unique[0],
   ////////                 PT_Id: null,
   ////////                 ActionType: "SETAPPROVE",
   ////////                 "MethodAction": 'PATCH'
   ////////             }
   ////////         }).done(function (response) {
   ////////             console.log(response)
   ////////             if (response.status.code == "200") {
   ////////                 createNotification(" " + response.status.description, "info")
   ////////                 data = JSON.parse(localStorage.getItem("dataSearch"))
   ////////                 item_select = []

   ////////                 $('#BatchRevNo').val($('#BatchRevNo').val())
   ////////                 $("#search").click()
   ////////                 //actionSearch(data, optionsJSON)

   ////////             } else {
   ////////                 createNotification(" " + response.status.description, "error")
   ////////             }
   ////////         });
   ////////     }
   //////// }


   //////// $('#reject').click(function (e) {


   ////////     var batch_select = []
   ////////     var batch_select_unique = []
   ////////     var item_select_id = []

   ////////     //ถ้าที่ติ๊กเลือกข้อมูลมา
   ////////     if (item_select.length > 0) {
   ////////         console.log('เลือกข้อมูล item_select')
   ////////         $.each(item_select, function (k, v) {
   ////////             //ข้อมูลที่เลือกมาแต่ละตัว
   ////////             if (item_select[k].Status != "Ready") {
   ////////                 if (item_select[k].Status == "Pending Approve") {
   ////////                     batch_select.push(item_select[k].INSH_BatchNo)
   ////////                 } else {
   ////////                     item_select_id.push(item_select[k].PT_Id)
   ////////                 }
   ////////             } else {
   ////////                 createNotification(" Data is Ready.", "error")
   ////////             }

   ////////         })
   ////////     } else {
   ////////         //ถ้าไม่เลือกอะไรมาเลยใช้ข้อมูลใน Grid ทั้งหมด

   ////////         console.log('ไม่เลือกอะไรมาเลยใช้ข้อมูลใน Grid ทั้งหมด')
   ////////         for (var i = 0; i < $("#gridPaymentTransaction").data("kendoGrid").dataSource.data().length; i++) {
   ////////             if ($("#gridPaymentTransaction").data("kendoGrid").dataSource.data()[i].TransStatus != "Ready") {
   ////////                 if ($("#gridPaymentTransaction").data("kendoGrid").dataSource.data()[i].TransStatus == "Pending Approve") {
   ////////                     batch_select.push($("#gridPaymentTransaction").data("kendoGrid").dataSource.data()[i].INSH_BatchNo)
   ////////                 } else {
   ////////                     createNotification(' Please select data.', 'error')
   ////////                 }
   ////////             } else {
   ////////                 if (i == $("#gridPaymentTransaction").data("kendoGrid").dataSource.data().length) {
   ////////                     createNotification(" Data is Ready.", "error")
   ////////                 }
   ////////             }

   ////////         }
   ////////     }


   ////////     batch_select_unique = batch_select.filter((v, i, a) => a.indexOf(v) === i)
   ////////     if (item_select_id.length > 0 || batch_select_unique.length > 0) {
   ////////         // return false;
   ////////         console.log(" item_select Rej = ", item_select_id)
   ////////         console.log(" batch_select_unique Rej = ", batch_select_unique)
   ////////         reject(item_select_id, batch_select_unique)
   ////////     }

   //////// })

   //////// function reject(item_select_id, batch_select_unique) {
   ////////     console.log(" item_select reject = ", item_select_id)
   ////////     console.log(" batch_select_unique reject = ", batch_select_unique)

   ////////     var grid = $("#gridPaymentTransaction").data("kendoGrid");
   ////////     var gridOptions = grid.getOptions()
   ////////     delete gridOptions.dataSource.data
   ////////     var optionsJSON = JSON.stringify(gridOptions);
   ////////     //var countselect = id_select_unique.length - 1;
   ////////     //return false
   ////////     if (item_select_id.length > 0) {
   ////////         // reject แบบ pending delete
   ////////         for (var i = 0; i < item_select_id.length; i++) {
   ////////             $.ajax({
   ////////                 "async": true,
   ////////                 "crossDomain": true,
   ////////                 "url": url + "/instruction",
   ////////                 "method": "Post",
   ////////                 "data": {
   ////////                     UserName: localStorage.getItem("userID"),
   ////////                     AppTokenId: getCookie('tokenAppId'),
   ////////                     INSH_BatchNo: null,
   ////////                     PT_Id: item_select_id[i],
   ////////                     ActionType: "SETCANCEL",
   ////////                     "MethodAction": 'DELETE'
   ////////                 }
   ////////             }).done(function (response) {
   ////////                 //   console.log(response, i, id_select_unique.length)

   ////////                 if (response.status.code == "200") {
   ////////                     createNotification(" " + response.dataSet.SetMassage, "info")
   ////////                     if (i == item_select_id.length) {
   ////////                         data = JSON.parse(localStorage.getItem("dataSearch"))
   ////////                         actionSearch(data, optionsJSON)

   ////////                     }
   ////////                 } else {
   ////////                     createNotification(" " + response.status.description, "error")
   ////////                 }

   ////////             });
   ////////         }


   ////////     } else {
   ////////         // กรณี reject แบบ pending approve
   ////////         $.ajax({
   ////////             "async": true,
   ////////             "crossDomain": true,
   ////////             "url": url + "/instruction",
   ////////             "method": "Post",
   ////////             "data": {
   ////////                 UserName: localStorage.getItem("userID"),
   ////////                 AppTokenId: getCookie('tokenAppId'),
   ////////                 INSH_BatchNo: batch_select_unique[0],
   ////////                 PT_Id: null,
   ////////                 ActionType: "SETREJECT",
   ////////                 "MethodAction": 'PATCH'
   ////////             }
   ////////         }).done(function (response) {
   ////////             console.log(response)
   ////////             if (response.status.code == "200") {
   ////////                 createNotification(" " + response.dataSet.SetMassage, "info")
   ////////                 data = JSON.parse(localStorage.getItem("dataSearch"))
   ////////                 actionSearch(data, optionsJSON)

   ////////             } else {
   ////////                 createNotification(" " + response.status.description, "error")
   ////////             }
   ////////         });
   ////////     }



   //////// }




   //////// $("#un-batch").click(function (e) {

   ////////     var batch_select = []
   ////////     var batch_select_unique = []
   ////////     var item_select_id = []

   ////////     //ถ้าที่ติ๊กเลือกข้อมูลมา
   ////////     if (item_select.length > 0) {

   ////////         $.each(item_select, function (k, v) {
   ////////             //ข้อมูลที่เลือกมาแต่ละตัว
   ////////             if (item_select[k].Status != "Ready") {
   ////////                 if (item_select[k].Status == "Pending Approve" || item_select[k].Status == "Pending Edit") {
   ////////                     batch_select.push(item_select[k].INSH_BatchNo)
   ////////                 } else {
   ////////                     item_select_id.push(item_select[k].PT_Id)
   ////////                 }
   ////////             } else {
   ////////                 createNotification(" Data is Ready.", "error")
   ////////             }

   ////////         })
   ////////     } else {
   ////////         //ถ้าไม่เลือกอะไรมาเลยใช้ข้อมูลใน Grid ทั้งหมด
   ////////       //  alert('ไม่เลือกอะไรมาเลยใช้ข้อมูลใน Grid ทั้งหมด')
   ////////         for (var i = 0; i < $("#gridPaymentTransaction").data("kendoGrid").dataSource.data().length; i++) {
   ////////             if ($("#gridPaymentTransaction").data("kendoGrid").dataSource.data()[i].TransStatus != "Ready") {
   ////////                 if ($("#gridPaymentTransaction").data("kendoGrid").dataSource.data()[i].TransStatus == "Pending Approve" || $("#gridPaymentTransaction").data("kendoGrid").dataSource.data()[i].TransStatus == "Pending Edit") {
   ////////                     batch_select.push($("#gridPaymentTransaction").data("kendoGrid").dataSource.data()[i].INSH_BatchNo)
   ////////                 } else {
   ////////                     createNotification(' Please select data.', 'error')
   ////////                 }
   ////////             } else {
   ////////                 if (i == $("#gridPaymentTransaction").data("kendoGrid").dataSource.data().length) {
   ////////                     createNotification(" Data is Ready.", "error")
   ////////                 }
   ////////             }

   ////////         }
   ////////     }


   ////////     batch_select_unique = batch_select.filter((v, i, a) => a.indexOf(v) === i)
   ////////     if (item_select_id.length > 0 || batch_select_unique.length > 0) {
   ////////         // return false;
   ////////         console.log(" item_select unbatch = ", item_select_id)
   ////////         console.log(" batch_select_unique unbatch = ", batch_select_unique)
   ////////         unbatch(item_select_id, batch_select_unique)
   ////////     }

   ////////  //   unbatch()
   //////// })

   //////// function unbatch(item_select_id, batch_select_unique) {
   ////////     console.log(" item_select unbatc = ", item_select_id)
   ////////     console.log(" batch_select_unique unbatc = ", batch_select_unique)

   ////////     if (batch_select_unique.length > 0) {
   ////////         $.ajax({
   ////////             "async": true,
   ////////             "crossDomain": true,
   ////////             "url": url + "/instruction",
   ////////             "method": "Post",
   ////////             "data": {
   ////////                 UserName: localStorage.getItem("userID"),
   ////////                 AppTokenId: getCookie('tokenAppId'),
   ////////                 INSH_BatchNo: batch_select_unique[0],
   ////////                 ActionType: "SETUNBATCH",
   ////////                 "MethodAction": 'DELETE'
   ////////             }
   ////////         }).done(function (response) {
   ////////             console.log(response)
   ////////             if (response.status.code == "200") {
   ////////                 createNotification(" " + response.dataSet.SetMassage, "info")
   ////////                 window.location.reload()
   ////////             } else {
   ////////                 createNotification(" " + response.Status.description, "error")
   ////////             }

   ////////         });
   ////////     } else {
   ////////         createNotification(" Please select data", "error")
   ////////     }
   //////// }




   //////// function back() {
   ////////     if (getURLParameter('Wrk_Detail') == null) {
   ////////        // window.location.href = '/Master/Payee'
   ////////     } else {
   ////////         window.location.href = '/Master/Approve'
   ////////     }
   //////// }


   //////// function editDetails(PT_Id, PT_Running) {
   ////////     var grid = $("#gridPaymentTransaction").data("kendoGrid");
   ////////     var gridOptions = grid.getOptions()
   ////////     delete gridOptions.dataSource.data
   ////////     localStorage.setItem("kendo-grid-paymenttransaction-options", JSON.stringify(gridOptions));
   ////////     (PT_Id == "null") ? PT_Id = 0 : PT_Id;
   ////////     (PT_Running == "null") ? PT_Running = 0 : PT_Running;
   ////////     urlrow = "/Transaction/PaymentData?PT_Id=" + PT_Id + "&PT_Running=" + PT_Running + (getURLParameter("Wrk_Detail") == null ? "" : "&Wrk_Detail=" + getURLParameter("Wrk_Detail").split(" ")[0]);
   ////////     window.open(urlrow , '_blank');
   //////// }

   //////// function showDetails(PT_Id, PT_Running) {
   ////////     var grid = $("#gridPaymentTransaction").data("kendoGrid");
   ////////     var gridOptions = grid.getOptions()
   ////////     delete gridOptions.dataSource.data
   ////////     localStorage.setItem("kendo-grid-paymenttransaction-options", JSON.stringify(gridOptions));
   ////////     (PT_Id == "null") ? PT_Id = 0 : PT_Id;
   ////////     (PT_Running == "null") ? PT_Running = 0 : PT_Running;
   ////////     //(ACC_Id_Wrk == "null") ? ACC_Id_Wrk = 0 : ACC_Id_Wrk;
   ////////     urlrow = "/Transaction/PaymentDetail?PT_Id=" + PT_Id + "&PT_Running=" + PT_Running + (getURLParameter("Wrk_Detail") == null ? "" : "&Wrk_Detail=" + getURLParameter("Wrk_Detail").split(" ")[0]) +"&canEdit=false";
   ////////     window.open(urlrow, '_blank');
   //////// }

</script>
